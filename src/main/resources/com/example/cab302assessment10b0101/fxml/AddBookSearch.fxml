<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.layout.StackPane?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.cab302assessment10b0101.controllers.AddBookSearchController">
    <AnchorPane>
    <VBox prefWidth="800" layoutX="20.0" layoutY="20.0" spacing="10">
    <Label text="Add to Collection">
        <font>
            <Font name="System Bold" size="24.0"/>
        </font>
    </Label>
    <ChoiceBox fx:id="collectionChoiceBoxSearch" prefHeight="25.0" prefWidth="352.0"/>


        <!-- Search Bar -->
        <Label text="Search Book by Title:"/>
        <HBox spacing="10">
            <TextField fx:id="searchTextField" prefHeight="25.0" prefWidth="400.0" promptText="Enter book title"/>
            <Button fx:id="searchButton" text="Search" prefHeight="25.0" prefWidth="100.0" onAction="#handleSearchButton"/>
        </HBox>

        <Label text="Search Results:"/>
        <HBox spacing="10">
            <!-- Book Image on the left -->
            <ImageView fx:id="bookImageView" fitHeight="300.0" fitWidth="220.0"/>

            <!-- Book Details on the right -->
            <VBox spacing="10" alignment="TOP_RIGHT">
            <VBox spacing="10" style="-fx-padding: 0 0 0 120;"> <!-- Add 50px padding on the left -->
                <Label fx:id="bookTitleLabel" text="Title: "/>
                <Label fx:id="bookAuthorLabel" text="Author: "/>
                <Label fx:id="bookPublisherLabel" text="Publisher: "/>
                <Label fx:id="bookIsbnLabel" text="ISBN: "/>
                <Label fx:id="bookPagesLabel" text="Pages: "/>
                <Label fx:id="bookPublishedDateLabel" text="Published Date: "/>
                <Label fx:id="bookDescriptionLabel" text="Description: "/>
            </VBox>
            </VBox>
        </HBox>

        <!-- TextArea for Notes -->
        <Label text="Add a Note:"/>
        <TextArea fx:id="notesTextArea" prefHeight="50.0" prefWidth="500.0" promptText="Enter any notes here..."/>

        <!-- Buttons for navigating results and adding the current book -->
        <HBox spacing="10">
            <Button fx:id="prevButton" text="Previous" onAction="#handlePrevButton" disable="true"/>
            <Button fx:id="nextButton" text="Next" onAction="#handleNextButton" disable="true"/>
            <Button fx:id="addBookButton" text="Add Book" prefHeight="40.0" prefWidth="150.0" disable="true" onAction="#handleAddBookButton"/>
        </HBox>
    </VBox>
    </AnchorPane>

    <!-- Overlay ProgressIndicator centered in StackPane -->
    <ProgressIndicator fx:id="progressIndicator" visible="false"/>
</StackPane>